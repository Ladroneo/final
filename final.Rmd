---
editor_options: 
  markdown: 
    wrap: 72
---

```{r, librerias}
library(dplyr)
library(tidyr)
library(ggplot2)
```

Conocimiento político: Interés personal vs infgluencia de grupos:
valores y principios políticos identificación partidaria

```{r, datos}
load("ELSOC_Long_2016_2022_v1.00.RData")
datos <- elsoc_long_2016_2022.2 %>% 
  mutate_all(~ifelse(. %in% c(-666, -777, -888, -999, NA), NA, .))
rm(elsoc_long_2016_2022.2)
```

interés en la política: c13 
habla de política en casa: c14_01 
se informa por los medios: c14_02 
de acuerdo con: aborto: c37_02 
de acuerdo con: restricciones ingreso migrante: c37_05 
de acuerdo con: capitalización individual: c37_04

```{r}
datos_var <- datos %>% 
  select(idencuesta, ola,
         c13, c37_02, c53)
datos_var[] <- lapply(datos_var, factor)
datos_var <- datos_var %>% 
  mutate(ola = as.factor(case_when(
    ola == 1 ~ "2016",
    ola == 2 ~ "2017",
    ola == 3 ~ "2018",
    ola == 4 ~ "2019",
    ola == 5 ~ "2021",
    ola == 6 ~ "2022",
    TRUE ~ as.character(ola)
  ))) %>% 
  mutate(c13 = as.factor(case_when(
    c13 == 1 ~ "Nada interesado", 
    c13 == 2 ~ "Poco interesado", 
    c13 == 3 ~ "Algo interesado", 
    c13 == 4 ~ "Bastante interesado", 
    c13 == 5 ~ "Muy interesado", 
    TRUE ~ as.factor(c13)
  ))) %>% 
  mutate(c37_02 = as.factor(case_when(
    c37_02 == 1 ~ "Totalmente en desacuerdo", 
    c37_02 == 2 ~ "En desacuerdo", 
    c37_02 == 3 ~ "Ni de acuerdo ni en desacuerdo", 
    c37_02 == 4 ~ "De acuerdo", 
    c37_02 == 5 ~ "Totalmente de acuerdo", 
    TRUE ~ as.factor(c37_02)
  ))) %>% 
  mutate(c53 = as.factor(case_when(
    c53 == 1 ~ "Gabriel Boric",
    c53 == 2 ~ "José Antonio Kast",
    TRUE ~ as.factor(c53)
  )))
####
```

votó boric/kast: c53

```{r}
datos_vot <- datos_var %>%
  filter(!is.na(c53)) %>% 
  group_by(c53)
#aqui todos los que votaron
```

```{r}
ggplot(data = datos_vot,
       aes(y = c53,x = c37_02, fill = c13)) +
  geom_col()
```
